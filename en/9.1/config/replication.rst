======================
Setting up replication
======================

This page is generated by Machine Translation from Japanese.

About replication settings
==========================

Sets the replication of the index Solr replication features. You can
distribute load during indexing to build two in Fess of the crawl and
index creation and search for Fess servers.

How to build a
==============

Building indexes for Fess
-------------------------

Fess, download and install the. When you install MasterServer named
host.\ ``/ /opt/fess_master`` To assume you installed. Edit the
SOLR/core1/conf/solrconfig.XML like the following.

::

    ...
    <requestHandler name="/replication" >
        <lst name="master">
            <str name="replicateAfter">startup</str>
            <str name="replicateAfter">optimize</str>
            <str name="backupAfter">optimize</str>
            <str name="confFiles">schema.xml,stopwords.txt,stopwords_ja.txt,elevate.xml,
                stoptags_ja.txt,synonyms.txt,mapping_ja.txt,mapping-FoldToASCII.txt,
                mapping-ISOLatin1Accent.txt,protwords.txt,compositePOS.txt,spellings.txt,
                currency.xml</str>
        </lst>
        <str name="maxNumberOfBackups">1</str>
    </requestHandler>
    ...

Register the crawl settings as well as Fess starts after the normal
construction. Steps to building the index for Fess remains especially as
normal building procedures.

Search for Fess building
------------------------

Fess, download and install the.\ ``/ /opt/fess_slave`` To assume you
installed. Edit the SOLR/core1/conf/solrconfig.XML like the following.

::

    ...
    <requestHandler name="/replication" >
        <lst name="slave">
            <str name="masterUrl">http://MasterServer:8080/solr/core1/replication</str>
            <str name="pollInterval">00:00:60</str>
            <str name="compression">internal</str>
            <str name="httpConnTimeout">5000</str>
            <str name="httpReadTimeout">10000</str>
            <str name="httpBasicAuthUser">solradmin</str>
            <str name="httpBasicAuthPassword">solradmin</str>
         </lst>
    </requestHandler>
    ...

Start the Fess.

Index of synchronization
------------------------

Until the above settings copied to search for Fess index crawl after the
optimization (optimize) the index for Fess.
